<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Realidad Aumentada Juguetron</title>

  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" sizes="57x57" href="images/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="images/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="images/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="images/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="images/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="images/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="images/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="images/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="images/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link href="https://fonts.googleapis.com/css?family=Fira+Sans+Extra+Condensed:400,600" rel="stylesheet">
  <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <!--build:css css/styles.min.css-->
  <link rel="stylesheet" href="css/styles.css">
  <!--endbuild-->
</head>
<body style="margin: 0px; overflow: hidden;">
<a-scene embedded arjs="debugUIEnabled: false;" vr-mode-ui="enabled: false">
    <a-assets>
      <!-- https://www.cgtrader.com/3d-models/character/man/black-panther-mcu#tab-description -->
        <a-asset-item id="gltf1" src="model_captain/scene.gltf"></a-asset-item>
        <a-asset-item id="gltf2" src="model_stormtrooper/scene.gltf"></a-asset-item>
        <a-asset-item id="gltf3" src="model_ironman/scene.gltf"></a-asset-item>    
        <img id="flag1" src="images/flag1.png">
        <img id="flag2" src="images/flag2.png">

    </a-assets>
<!--     <canvas></canvas> -->
    <a-marker preset="custom" type="pattern" url="https://raw.githubusercontent.com/Esmolan/Esmolan.github.io/master/juguetron-marker.patt" hit-testing-enabled='false'>
      <a-plane
        position='0 0 0' 
        scale='1 1 1' 
        rotation='-90 0 0'
        width="1"
        height="1"
        src="#flag1" 
      >
        <a-entity geometry="primitive:box;" material="color:#fff;transparent:true;opacity:0" position="0 0 0.5">
          <a-entity rotation="0 0 0" scale="2.54 2.54 2.54" position="0 -15 0">
            <a-gltf-model src="#gltf3" 
              position="0 0 0"
              rotation="0 -75 0"
              scale="0.010 0.010 0.010"
              animation-mixer="loop:repeat">
            </a-gltf-model>
         </a-entity>  
        </a-entity>
      </a-plane>
    </a-marker>

    <a-marker preset="custom" type="pattern" url="https://raw.githubusercontent.com/Esmolan/Esmolan.github.io/master/capitan-marker.patt" hit-testing-enabled='false'>
      <a-plane
        position='0 0 0' 
        scale='1 1 1' 
        rotation='-90 0 0'
        width="1"
        height="1"
        src="#flag2" 
      >
        <a-entity geometry="primitive:box;" material="color:#fff;transparent:true;opacity:0" position="0 0 0.5">
          <a-entity rotation="0 0 0" scale="2.54 2.54 2.54" position="7 -15 0">
              <a-gltf-model src="#gltf1" 
                position="-7 0 -1"
                rotation="0 0 0"
                scale="12 12 12">
              </a-gltf-model> 
          </a-entity>  
        </a-entity>
      </a-plane>
    </a-marker>

    <a-entity light="type:directional" position="-0.3 4.7 -1.5"></a-entity>
    <a-entity light="color:#BBB;type:ambient" position="0 0 0"></a-entity>
    <a-entity camera></a-entity>
  </a-scene>  

  <!-- frame components -->
  <a class="logo right" href="https://www.juguetron.mx/" target="_blank"><img src="images/logo.png"></a>

  <div id="footer">
    <button id="snap-button"></button>
  </div>
  <a id="download-link" style="display:none"></a>

  <!--build:js js/main.min.js -->
  <script src="js/main.js"></script>
  <script src="js/merge.js"></script>
  <script src="js/capture.js"></script>
  <script src="js/index.js"></script>
  <!-- endbuild -->
</body>
</html>